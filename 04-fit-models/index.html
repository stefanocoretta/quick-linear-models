<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Linear models: Advanced topics</title>
    <meta charset="utf-8" />
    <meta name="author" content="Stefano Coretta" />
    <meta name="date" content="2022-03-06" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link rel="stylesheet" href="../ipa-fonts.css" type="text/css" />
    <link rel="stylesheet" href="../custom.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Linear models: Advanced topics
### Stefano Coretta
### University of Edinburgh
### 2022-03-06

---




# Summary from last time

* The simplest .orange[**linear model**] is a straight line.

`$$y = \beta_0 + \beta_1 x$$`

* We want to estimate the `\(\beta_n\)` .orange[**coefficients**].

`$$y = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \beta_4 x_1 x_2 + \beta_3 x_3$$`

* Categorical predictors are .orange[dummy coded].

* .orange[**Interactions**] model differences of the effects of the predictors on the outcome across groups/conditions.

---

class: center middle

![:scale 40%](../img/charlesdeluvio-D44HIk-qsvI-unsplash.jpg)

???

Photo by &lt;a href="https://unsplash.com/@charlesdeluvio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"&gt;charlesdeluvio&lt;/a&gt; on &lt;a href="https://unsplash.com/s/photos/sad-puppy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"&gt;Unsplash&lt;/a&gt;
  
---

class: center middle

![:scale 90%](../img/joe-caione-qO-PIF84Vxg-unsplash.jpg)

???

Photo by &lt;a href="https://unsplash.com/@joeyc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"&gt;Joe Caione&lt;/a&gt; on &lt;a href="https://unsplash.com/s/photos/happy-puppy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"&gt;Unsplash&lt;/a&gt;

---

# Exercise 1


```
## 
## Call:
## lm(formula = articulation_rate ~ attitude * musicstudent, data = polite)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -3.0869 -0.6740 -0.1004  0.6252  5.8252 
## 
## Coefficients:
##                             Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept)                   7.1348     0.1349  52.898  &lt; 2e-16
## attitudepol                  -0.5741     0.1907  -3.010  0.00292
## musicstudentyes              -0.6675     0.2203  -3.030  0.00273
## attitudepol:musicstudentyes   0.4409     0.3115   1.415  0.15839
## 
## Residual standard error: 1.128 on 220 degrees of freedom
## Multiple R-squared:  0.07404,	Adjusted R-squared:  0.06141 
## F-statistic: 5.864 on 3 and 220 DF,  p-value: 0.0007197
```

---

# Exercise 1

&lt;img src="index_files/figure-html/art-rate-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

# Exercise 2


```
## 
## Call:
## lm(formula = f0mn ~ attitude * years_in_ger, data = polite)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -109.21  -68.54   10.94   50.09  221.12 
## 
## Coefficients:
##                          Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept)              201.1803     8.7439  23.008   &lt;2e-16
## attitudepol              -16.9127    12.2732  -1.378    0.170
## years_in_ger               0.7916     1.4131   0.560    0.576
## attitudepol:years_in_ger   1.1225     1.9959   0.562    0.574
## 
## Residual standard error: 69.5 on 208 degrees of freedom
##   (12 observations deleted due to missingness)
## Multiple R-squared:  0.01852,	Adjusted R-squared:  0.00436 
## F-statistic: 1.308 on 3 and 208 DF,  p-value: 0.2728
```

---

# Exercise 2

&lt;img src="index_files/figure-html/f0-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

# Exercise 3


```
## 
## Call:
## lm(formula = ct ~ count * gesture * background, data = gestures)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -6.4081 -0.0543 -0.0096  0.0443  6.4612 
## 
## Coefficients:
##                                        Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept)                           0.0006191  0.0509697   0.012 0.990310
## count                                 0.2493477  0.0222840  11.190  &lt; 2e-16
## gesturepoint                         -0.1085239  0.0701579  -1.547 0.122100
## gesturereach                          0.0392469  0.0708575   0.554 0.579736
## backgroundChinese                     0.0537003  0.0718066   0.748 0.454665
## backgroundBengali                     0.0418825  0.0741789   0.565 0.572416
## count:gesturepoint                    0.2936528  0.0236634  12.410  &lt; 2e-16
## count:gesturereach                   -0.1228103  0.0321556  -3.819 0.000139
## count:backgroundChinese              -0.1847537  0.0240683  -7.676 2.86e-14
## count:backgroundBengali              -0.1961863  0.0253242  -7.747 1.67e-14
## gesturepoint:backgroundChinese        0.0385925  0.0994090   0.388 0.697906
## gesturereach:backgroundChinese       -0.1379059  0.1009806  -1.366 0.172238
## gesturepoint:backgroundBengali        0.0756445  0.1008240   0.750 0.453208
## gesturereach:backgroundBengali       -0.0917011  0.1027956  -0.892 0.372491
## count:gesturepoint:backgroundChinese  0.0120445  0.0296253   0.407 0.684385
## count:gesturereach:backgroundChinese  0.3905759  0.0414547   9.422  &lt; 2e-16
## count:gesturepoint:backgroundBengali -0.2084393  0.0328945  -6.337 3.06e-10
## count:gesturereach:backgroundBengali  0.1615633  0.0388780   4.156 3.42e-05
## 
## Residual standard error: 0.617 on 1575 degrees of freedom
##   (27 observations deleted due to missingness)
## Multiple R-squared:  0.7891,	Adjusted R-squared:  0.7868 
## F-statistic: 346.7 on 17 and 1575 DF,  p-value: &lt; 2.2e-16
```

---

# Exercise 3

&lt;img src="index_files/figure-html/ct-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

# Do you notice something weird?

&lt;img src="index_files/figure-html/ct-plot-2-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

class: center middle inverse

# Probability distributions

---

# Continuous vs discrete

.center[
![:scale 90%](../img/discr-cont-probs.png)
]

---

class: center middle

.f1.link.dim.br3.ph3.pv2.mb2.dib.white.bg-purple[
[.white[Probability distributions app]](https://seeing-theory.brown.edu/probability-distributions/index.html#section2)
]

---

# Gaussian distribution (aka normal distribution)


```r
x_norm &lt;- rnorm(10, mean = 0, sd = 1)
x_norm
```

```
##  [1]  1.3306356  0.7726106  0.6379435  2.1426533 -0.6830520 -1.2137140
##  [7]  1.1342526 -0.5324498 -0.9334888  1.5504993
```

---

# Gaussian distribution (aka normal distribution)


```r
plot(density(x_norm))
```

&lt;img src="index_files/figure-html/norm-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

# Bernoulli distribution (special case of Binomial)


```r
x_bern &lt;- rbernoulli(20, p = 0.75)
x_bern
```

```
##  [1] FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE  TRUE  TRUE FALSE  TRUE  TRUE
## [13]  TRUE  TRUE FALSE FALSE  TRUE  TRUE FALSE FALSE
```

```r
table(x_bern)
```

```
## x_bern
## FALSE  TRUE 
##     8    12
```

---

class: center middle inverse

# Think about the probability distribution of the outcome variable

---

# Continuous outcome variable

* The variable can take on *any positive and negative real number, including 0*: **Gaussian** (aka normal) distribution.

    * There are very few truly Gaussian variables, although in some cases one can speak of "approximate" or "assumed" normality.

    * This family is fitted by default in `lm()`, `lme4::lmer()` and `brms::brm()`.

--

* The variable can take on *any positive number only*: **Log-normal** distribution.

    * Duration of segments, words, pauses, etc, are known to be log-normally distributed.

    * Measurements taken in Hz (like f0, formants, centre of gravity, ...) could be considered to be log-normal.

    * There other families that could potentially be used depending on the nature of the variable: exponential-Gaussian (reaction times), gamma, ...

---

# Continuous outcome variable

* The variable can take on *any number between 0 and 1, but not 0 nor 1*: **Beta** distribution.

    * Proportions fall into this category (for example proportion of voicing within closure), although 0 and 1 are not allowed in the beta distribution.

--

* The variable can take on *any number between 0 and 1, including 0 or 0 and 1*: **Zero-inflated** or **Zero/one-inflated beta** (ZOIB) distribution.

    * If the proportion data includes many 0s and 1s, then this is the ideal distribution to use. ZOIB distributions are somewhat more difficult to fit than a simple beta distribution, so a common practice is to transform the data so that it doesn't include 0s nor 1s (this can be achieved using different techniques, some better than others).

---

# Discrete outcome variable

* The variable is *counts*: **Poisson** distribution.

    * Counts of words, segments, gestures, f0 peaks, ...
    
--

* The variable is *dichotomous*, i.e. it can take one of two levels: **Bernoulli** distribution.

    * Categorical outcome variables like yes/no, correct/incorrect, voiced/voiceless, follow this distribution.

    * This family is fitted by default when you run `glm(family = binomial)`, aka "logistic regression" or "binomial regression".

--

* The variable is a *scale*: **ordinal** linear model.

    * Likert scales and ratings, language attitude questionnaires.

    * Ordinal linear models, a.k.a. ordinal logistic regression, can be fitted with the [ordinal](https://cran.r-project.org/web/packages/ordinal/index.html) and the [brms](https://paul-buerkner.github.io/brms/) package.

---

# Dichotomous outcome: Bernoulli distribution

- Shallow Morphological Processing.

- English L1 and L2 speakers (L2 speakers are native speakers of Cantonese).

- Lexical decision task (Word vs Non-Word).

- Target: *unkindness* ([[un]-[kind]]-ness).

- Primes: *prolong* (Unrelated), *unkind* (Constituent), *kindness* (Non-Constituent).

---

# Dichotomous outcome: Bernoulli distribution


```
## 
## Call:
## glm(formula = ACC ~ Relation_type, family = binomial(), data = shallow)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.0269   0.5238   0.5238   0.6438   0.7518  
## 
## Coefficients:
##                             Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept)                   1.4684     0.0918  15.997  &lt; 2e-16
## Relation_typeConstituent      0.4485     0.1411   3.179  0.00148
## Relation_typeNonConstituent  -0.3492     0.1492  -2.341  0.01921
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 1810.9  on 1949  degrees of freedom
## Residual deviance: 1784.8  on 1947  degrees of freedom
## AIC: 1790.8
## 
## Number of Fisher Scoring iterations: 4
```

---

# Do you notice something weird?


```
## 
## Call:
## glm(formula = ACC ~ Relation_type, family = binomial(), data = shallow)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.0269   0.5238   0.5238   0.6438   0.7518  
## 
## Coefficients:
##                             Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept)                   1.4684     0.0918  15.997  &lt; 2e-16
## Relation_typeConstituent      0.4485     0.1411   3.179  0.00148
## Relation_typeNonConstituent  -0.3492     0.1492  -2.341  0.01921
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 1810.9  on 1949  degrees of freedom
## Residual deviance: 1784.8  on 1947  degrees of freedom
## AIC: 1790.8
## 
## Number of Fisher Scoring iterations: 4
```

---

# Log-odds


```r
# What is the log of 1?
log(1)
```

```
## [1] 0
```

```r
# What is the exponential function at 0?
exp(0)
```

```
## [1] 1
```

--

&lt;br&gt;

Now try different numbers with `log()` and `exp()`.

---

# From log-odds to odds

&lt;img src="index_files/figure-html/log-odds-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

# From log-odds to odds: Examples

- 10 mo infants perform on average 10 iconic gestures per day. At 11 mo, the number of gestures increases by a factor of 1.6. At 12 mo, there is a further increase by a factor of 1.2.

--

  - Calculate the average number of gestures per day at 12 months based on the 10 month average (10 gestures).

--

- The average number of errors L2 learners make decreases by a factor of 0.2 every year and a half.

--

  - Calculate the average number of errors after 6 years, assuming 265 errors at year 1.

---

# From log-odds to probabilities


```
## [1] 1
```

```
## [1] 0.5
```

```
## [1] 0.7310586
```

--

&lt;br&gt;

Now try different numbers with `plogis()`.

---

# From log-odds to probabilities

&lt;img src="index_files/figure-html/p-log-odds-1.png" height="500px" style="display: block; margin: auto;" /&gt;

---

# Dichotomous outcome: Bernoulli distribution


```
## 
## Call:
## glm(formula = ACC ~ Relation_type, family = binomial(), data = shallow)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.0269   0.5238   0.5238   0.6438   0.7518  
## 
## Coefficients:
##                             Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept)                   1.4684     0.0918  15.997  &lt; 2e-16
## Relation_typeConstituent      0.4485     0.1411   3.179  0.00148
## Relation_typeNonConstituent  -0.3492     0.1492  -2.341  0.01921
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 1810.9  on 1949  degrees of freedom
## Residual deviance: 1784.8  on 1947  degrees of freedom
## AIC: 1790.8
## 
## Number of Fisher Scoring iterations: 4
```

---

# Dichotomous outcome: Bernoulli distribution

&lt;img src="index_files/figure-html/shallow-lm-1-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;


---

# Dichotomous outcome: Bernoulli distribution


```
## 
## Call:
## glm(formula = ACC ~ Relation_type * Group, family = binomial(), 
##     data = shallow)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.1433   0.4604   0.5711   0.6750   0.7667  
## 
## Coefficients:
##                                     Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept)                           1.6094     0.1438  11.189   &lt;2e-16
## Relation_typeConstituent              0.5814     0.2290   2.539   0.0111
## Relation_typeNonConstituent          -0.4327     0.2293  -1.887   0.0592
## GroupL2                              -0.2461     0.1870  -1.316   0.1880
## Relation_typeConstituent:GroupL2     -0.2137     0.2913  -0.734   0.4630
## Relation_typeNonConstituent:GroupL2   0.1434     0.3021   0.475   0.6349
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 1810.9  on 1949  degrees of freedom
## Residual deviance: 1778.5  on 1944  degrees of freedom
## AIC: 1790.5
## 
## Number of Fisher Scoring iterations: 4
```


---

# Dichotomous outcome: Bernoulli distribution

&lt;img src="index_files/figure-html/shallow-lm-2-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;


---

# Counts: Poisson distribution


```
## 
## Call:
## glm(formula = ct ~ count, family = poisson(), data = gestures)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -3.4755  -0.5329  -0.5329  -0.5329   6.0319  
## 
## Coefficients:
##              Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept) -1.951931   0.062940  -31.01   &lt;2e-16
## count        0.133939   0.002916   45.94   &lt;2e-16
## 
## (Dispersion parameter for poisson family taken to be 1)
## 
##     Null deviance: 2265.1  on 1592  degrees of freedom
## Residual deviance: 1266.7  on 1591  degrees of freedom
##   (27 observations deleted due to missingness)
## AIC: 1683.4
## 
## Number of Fisher Scoring iterations: 6
```

---

# Counts: Poisson distribution

&lt;img src="index_files/figure-html/ct-2-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;


---

# Counts: Poisson distribution


```
## 
## Call:
## glm(formula = ct ~ count * background, family = poisson(), data = gestures)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -4.3831  -0.6120  -0.5519  -0.3468   5.7243  
## 
## Coefficients:
##                          Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept)             -1.675248   0.096869 -17.294  &lt; 2e-16
## count                    0.123947   0.003593  34.499  &lt; 2e-16
## backgroundChinese       -0.206647   0.145640  -1.419  0.15593
## backgroundBengali       -1.135975   0.196911  -5.769 7.97e-09
## count:backgroundChinese  0.024062   0.008582   2.804  0.00505
## count:backgroundBengali  0.082224   0.016598   4.954 7.28e-07
## 
## (Dispersion parameter for poisson family taken to be 1)
## 
##     Null deviance: 2265.1  on 1592  degrees of freedom
## Residual deviance: 1216.6  on 1587  degrees of freedom
##   (27 observations deleted due to missingness)
## AIC: 1641.2
## 
## Number of Fisher Scoring iterations: 7
```

---

# Counts: Poisson distribution


```r
tidy(ct_lm_3, exponentiate = FALSE)
```

```
## # A tibble: 6 × 5
##   term                    estimate std.error statistic   p.value
##   &lt;chr&gt;                      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)              -1.68     0.0969     -17.3  5.23e- 67
## 2 count                     0.124    0.00359     34.5  8.40e-261
## 3 backgroundChinese        -0.207    0.146       -1.42 1.56e-  1
## 4 backgroundBengali        -1.14     0.197       -5.77 7.97e-  9
## 5 count:backgroundChinese   0.0241   0.00858      2.80 5.05e-  3
## 6 count:backgroundBengali   0.0822   0.0166       4.95 7.28e-  7
```

---

# Counts: Poisson distribution


```r
tidy(ct_lm_3, exponentiate = TRUE)
```

```
## # A tibble: 6 × 5
##   term                    estimate std.error statistic   p.value
##   &lt;chr&gt;                      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)                0.187   0.0969     -17.3  5.23e- 67
## 2 count                      1.13    0.00359     34.5  8.40e-261
## 3 backgroundChinese          0.813   0.146       -1.42 1.56e-  1
## 4 backgroundBengali          0.321   0.197       -5.77 7.97e-  9
## 5 count:backgroundChinese    1.02    0.00858      2.80 5.05e-  3
## 6 count:backgroundBengali    1.09    0.0166       4.95 7.28e-  7
```


---

# Counts: Poisson distribution

&lt;img src="index_files/figure-html/ct-3-plot-1.png" height="500px" style="display: block; margin: auto;" /&gt;




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="../macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
